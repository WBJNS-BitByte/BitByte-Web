<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>standard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/standard.css">
    <link rel="stylesheet" href="css/dropdown.css">
    <link rel="stylesheet" href="css/mediaQuery.css">
    <link rel="stylesheet" href="css/modify.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <img id="bitbyte_logo" src="images/bitbyte nav 로고 white.png" alt="bitbyte 로고">
        <button type="button" class="btn btn-primary" id="liveToastBtn"><img id="alarm" src="images/알람-켜짐-아이콘.svg" alt="알람켜짐"></button>;

        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="images/bitbype logo cookie.png" class="rounded me-2" alt="알람-토스트 아이콘">
                    <strong class="me-auto">토스트 알림</strong>
                    <small>11 mins ago</small>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body">
                    안녕, 이건 토스트야!
                </div>
            </div>
        </div>
    </nav>
    <aside>
        <div id="profile">
            <a href=""><img src="images/bitbype logo cookie.png" alt="기본 프로필 사진"></a>
            <a class="side-letter" href=""><p><span>코딩천재용현</span><br>데브옵스 12기</p></a>
            <div id="side-click" data-bs-toggle="tooltip" 
            data-bs-custom-class="tooltip-success" data-bs-placement="top"
            data-bs-html="true" data-bs-title="<div id='tooltip' style='background: white;'>닫기</div>"><img src="images/사이드바닫힘.png" alt="사이드바닫힘"></div>
        </div>
        <div id="side-buttons">
            <div id="menus">
                <ul>
                    <li>
                        <a class="side-img" href="#" data-image="images/실시간현황-아이콘.svg" data-hover-image="images/실시간현황-아이콘-호버.svg">
                            <img src="images/실시간현황-아이콘.svg" alt="실시간현황">
                        </a>
                        <a class="side-letter" href="#"><p>실시간현황</p></a>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/시설예약-아이콘.svg" data-hover-image="images/시설예약-아이콘-호버.svg">
                            <img src="images/시설예약-아이콘.svg" alt="시설예약">
                        </a>
                        <a class="side-letter" href="#"><p>시설예약</p></a>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/예약내역-아이콘.svg" data-hover-image="images/예약내역-아이콘-호버.svg">
                            <img src="images/예약내역-아이콘.svg" alt="예약내역">
                        </a>
                        <a class="side-letter" href="#"><p>예약내역</p></a>
                    </li>
                    <li class="dropdown">
                        <a class="side-img" href="totalBoard.html" data-image="images/커뮤니티-아이콘.svg" data-hover-image="images/커뮤니티-아이콘-호버.svg">
                            <img src="images/커뮤니티-아이콘.svg" alt="커뮤니티">
                        </a>
                        <a class="side-letter" href="totalBoard.html"><p>커뮤니티</p></a>
                        <div class="dropdown-content">
                            <a href="notice.html">공지사항</a>
                            <a href="community.html">자유게시판</a>
                            <a href="complaint.html">불편사항</a>
                        </div>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/마이페이지-아이콘.svg" data-hover-image="images/마이페이지-아이콘-호버.svg">
                            <img src="images/마이페이지-아이콘.svg" alt="마이페이지">
                        </a>
                        <a class="side-letter" href="#"><p>마이페이지</p></a>
                    </li>
                </ul>
            </div>
            <div id="logout">
                <a class="side-img" href=""><img src="images/로그아웃-아이콘.svg" alt="로그아웃"></a>
                <a class="side-letter" href=""><p style="color:#FF0A00">로그아웃</p></a>
            </div>
        </div>
    </aside>
    <div class="content-background">
        <div class="content-container">
            <main>
                <!-- 게시글 수정 폼 -->
                <section class="notice-modify" id="noticeModifySection">
                    <div class="modify-header">
                        <h2>공지사항 게시글 수정</h2>
                    </div>
                    <form id="modifyForm">
                        <div class="mb-3">
                            <label for="postTitle" class="form-label">제목</label>
                            <input type="text" class="form-control" id="postTitle" value="기존 게시글 제목" required>
                        </div>
                        <div class="mb-3">
                            <label for="postContent" class="form-label">내용</label>
                            <textarea class="form-control" id="postContent" rows="10" required>기존 게시글 내용</textarea>
                        </div>
                        <div class="mb-3">
                            <label for="fileInput" class="form-label">첨부파일</label>
                            <input class="form-control" type="file" id="fileInput">
                        </div>
                        <div class="modify-footer">
                            <button type="button" class="btn btn-success" onclick="submitModification()">수정하기</button>
                            <button type="button" class="btn btn-danger" onclick="deletePost()">삭제하기</button>
                        </div>
                    </form>
                </section>
            </main>
            <footer>
                <ul>
                    <li style="text-decoration: underline;">비트바이트에 대해 궁금하신가요?</li>
                    <li>WBJNS@gmail.com<br>
                        2024 비트바이트. All rights reserved.</li>
                    <li>비트캠프 Tel. 02-123-1234</li>
                </ul>
            </footer>
        </div>
    </div>
    <script>
        const sideClick = document.querySelector("#side-click");
        const sidebar = document.querySelector("aside");

        // 부트스트랩 툴팁 초기화
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })

        sideClick.addEventListener("click", () => {
            // 툴팁 표시
            var tooltip = bootstrap.Tooltip.getInstance(sideClick);
            tooltip.show();

            // 0.1초 후에 툴팁 숨기기 및 사이드바 토글
            setTimeout(function() {
                tooltip.hide();
                sidebar.classList.toggle("fold");

                if(!sidebar.classList.contains("fold")){
                    sidebar.style.width = "242px";
                    sideClick.innerHTML = '<img src="images/사이드바닫힘.png" alt="사이드바닫힘">';
                } else {
                    sidebar.style.width = "92px";
                    sideClick.innerHTML = '<img src="images/사이드바열림.png" alt="사이드바열림">';
                }
            }, 100);
        });

        // 토스트
        const toastTrigger = document.getElementById('liveToastBtn')
        const toastLiveExample = document.getElementById('liveToast')

        if (toastTrigger) {
        const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample)
        toastTrigger.addEventListener('click', () => {
            toastBootstrap.show()
        })

        }

        // 메뉴 아이콘 호버 효과
        const sideButtons = document.querySelectorAll('#side-buttons li');
        sideButtons.forEach(button => {
            const originalImage = button.querySelector('img').src;
            const hoverImage = button.querySelector('a.side-img').getAttribute('data-hover-image');
            button.addEventListener('mouseenter', () => {
                button.querySelector('img').src = hoverImage;
            });
            button.addEventListener('mouseleave', () => {
                button.querySelector('img').src = originalImage;
            });
        });

        // 수정하기 버튼 클릭 시 처리
        function submitModification() {
            // 실제로는 서버로 수정 데이터를 전송해야 함
            alert("게시글이 수정되었습니다.");
            window.location.href = "noticeDetail.html"; // 수정 후 상세 페이지로 이동
        }

        // 삭제하기 버튼 클릭 시 처리
        function deletePost() {
            if (confirm("정말로 이 게시글을 삭제하시겠습니까?")) {
                // 실제로는 서버로 삭제 요청을 보내야 함
                alert("게시글이 삭제되었습니다.");
                window.location.href = "notice.html"; // 삭제 후 목록 페이지로 이동
            }
        }
    </script>
</body>
</html>
