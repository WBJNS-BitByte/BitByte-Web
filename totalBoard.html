<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Board</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/standard.css">
    <link rel="stylesheet" href="css/dropdown.css">
    <link rel="stylesheet" href="css/mediaQuery.css">
    <link rel="stylesheet" href="community.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <img id="bitbyte_logo" src="images/bitbyte nav 로고 white.png" alt="bitbyte 로고">
        <button type="button" class="btn btn-primary" id="liveToastBtn"><img id="alarm" src="images/알람-켜짐-아이콘.svg" alt="알람켜짐"></button>;

        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="images/bitbype logo cookie.png" class="rounded me-2" alt="알람-토스트 아이콘">
                    <strong class="me-auto">토스트 알림</strong>
                    <small>11 mins ago</small>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body">
                    안녕, 이건 토스트야!
                </div>
            </div>
        </div>
    </nav>
    <aside>
        <div id="profile">
            <a href=""><img src="images/bitbype logo cookie.png" alt="기본 프로필 사진"></a>
            <a class="side-letter" href=""><p><span>코딩천재용현</span><br>데브옵스 12기</p></a>
            <div id="side-click" data-bs-toggle="tooltip" 
            data-bs-custom-class="tooltip-success" data-bs-placement="top"
            data-bs-html="true" data-bs-title="<div id='tooltip' style='background: white;'>닫기</div>"><img src="images/사이드바닫힘.png" alt="사이드바닫힘"></div>
        </div>
        <div id="side-buttons">
            <div id="menus">
                <ul>
                    <li>
                        <a class="side-img" href="#" data-image="images/실시간현황-아이콘.svg" data-hover-image="images/실시간현황-아이콘-호버.svg">
                            <img src="images/실시간현황-아이콘.svg" alt="실시간현황">
                        </a>
                        <a class="side-letter" href="#"><p>실시간현황</p></a>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/시설예약-아이콘.svg" data-hover-image="images/시설예약-아이콘-호버.svg">
                            <img src="images/시설예약-아이콘.svg" alt="시설예약">
                        </a>
                        <a class="side-letter" href="#"><p>시설예약</p></a>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/예약내역-아이콘.svg" data-hover-image="images/예약내역-아이콘-호버.svg">
                            <img src="images/예약내역-아이콘.svg" alt="예약내역">
                        </a>
                        <a class="side-letter" href="#"><p>예약내역</p></a>
                    </li>
                    <li class="dropdown">
                        <a class="side-img" href="#" data-image="images/커뮤니티-아이콘.svg" data-hover-image="images/커뮤니티-아이콘-호버.svg">
                            <img src="images/커뮤니티-아이콘.svg" alt="커뮤니티">
                        </a>
                        <a class="side-letter" href="#"><p>커뮤니티</p></a>
                        <div class="dropdown-content">
                            <a href="notice.html">공지사항</a>
                            <a href="community.html">자유게시판</a>
                            <a href="complaint.html">불편사항</a>
                        </div>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/마이페이지-아이콘.svg" data-hover-image="images/마이페이지-아이콘-호버.svg">
                            <img src="images/마이페이지-아이콘.svg" alt="마이페이지">
                        </a>
                        <a class="side-letter" href="#"><p>마이페이지</p></a>
                    </li>
                </ul>
            </div>
            <div id="logout">
                <a class="side-img" href=""><img src="images/로그아웃-아이콘.svg" alt="로그아웃"></a>
                <a class="side-letter" href=""><p style="color:#FF0A00">로그아웃</p></a>
            </div>
        </div>
    </aside>
    <div class="content-background">
        <div class="content-container">
            <main>
                <section class="community-board">
                    <div class="board-header">
                        <h2>Community</h2>
                    </div>

                        <ul class="nav nav-tabs" id="communityTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="totalBoard-tab" data-bs-toggle="tab" href="totalBoard.html" role="tab" aria-controls="totalBoard" aria-selected="true">전체게시글</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="notice-tab" data-bs-toggle="tab" href="notice.html" role="tab" aria-controls="notice" aria-selected="false">공지사항</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="community-tab" data-bs-toggle="tab" href="community.html" role="tab" aria-controls="community" aria-selected="false">자유게시판</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="complaint-tab" data-bs-toggle="tab" href="complaint.html" role="tab" aria-controls="complaint" aria-selected="false">불편사항</a>
                            </li>
                        </ul>
                        
                        <h3>Total Board</h3>
                        <div class="board-filters">
                            <select class="filter-select">
                                <option value="all">전체게시물</option>
                                <option value="공지사항">공지사항</option>
                                <option value="자유게시판">자유게시판</option>
                                <option value="불편사항">불편사항</option>
                            </select>
                            <select class="filter-select">
                                <option value="제목">제목</option>
                                <option value="작성자">작성자</option>
                                <option value="내용">내용</option>
                            </select>
                            <input class="filter-input mr-sm-2" type="search" placeholder="검색" aria-label="Search">
                            <div>
                                <button class="btn btn-outline-primary" type="submit">검색</button>
                            </div>
                        </div>   
                    <div class="tab-content" id="communityTabContent">
                        <!-- 전체게시글 탭 내용 -->
                        <div class="tab-pane fade show active" id="totalBoard" role="tabpanel" aria-labelledby="totalBoard-tab">
                            <table class="board-table">
                                <thead>
                                    <tr>
                                        <th>NO</th>
                                        <th>제목</th>
                                        <th>작성자</th>
                                        <th>작성일</th>
                                        <th>조회수</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td class="title"><a href="#">[@@] 이번 고객감사 이벤트를 안내드립니다.</a></td>
                                        <td>관리자</td>
                                        <td>2023-07-30</td>
                                        <td>999</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td class="title"><a href="#">[@@] 이번 고객감사 이벤트를 안내드립니다.</a></td>
                                        <td>관리자</td>
                                        <td>2023-07-30</td>
                                        <td>999</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 다른 탭 내용은 필요에 따라 여기에 추가 -->
                    </div>
                    <div>
                        <!-- 페이지네이션 -->
                        <div aria-label="Page navigation">
                            <ul class="pagination justify-content-center">
                                <li class="page-item">
                                    <a class="page-link" href="#" aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                    </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item"><a class="page-link" href="#">4</a></li>
                                <li class="page-item"><a class="page-link" href="#">5</a></li>
                                <li class="page-item"><a class="page-link" href="#">6</a></li>
                                <li class="page-item"><a class="page-link" href="#">7</a></li>
                                <li class="page-item"><a class="page-link" href="#">8</a></li>
                                <li class="page-item"><a class="page-link" href="#">9</a></li>
                                <li class="page-item"><a class="page-link" href="#">10</a></li>
        
                                <li class="page-item">
                                    <a class="page-link" href="#" aria-label="Next">
                                        <span aria-hidden="true">&raquo;</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="post-container">
                        <button type="button" class="btn" id="postBtn" onclick="location.href='boardPost.html'">글 등록</button>
                    </div>
                </section>
            </main>
            <footer>
                <ul>
                    <li style="text-decoration: underline;">비트바이트에 대해 궁금하신가요?</li>
                    <li>WBJNS@gmail.com<br>
                        2024 비트바이트. All rights reserved.</li>
                    <li>비트캠프 Tel. 02-123-1234</li>
                </ul>
            </footer>
        </div>
    </div>
    <script>
        const sideClick = document.querySelector("#side-click");
        const sidebar = document.querySelector("aside");

        // 부트스트랩 툴팁 초기화
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })

        sideClick.addEventListener("click", () => {
            // 툴팁 표시
            var tooltip = bootstrap.Tooltip.getInstance(sideClick);
            tooltip.show();

            // 0.1초 후에 툴팁 숨기기 및 사이드바 토글
            setTimeout(function() {
                tooltip.hide();
                sidebar.classList.toggle("fold");

                if(!sidebar.classList.contains("fold")){
                    sidebar.style.width = "242px";
                    sideClick.innerHTML = '<img src="images/사이드바닫힘.png" alt="사이드바닫힘">';
                } else {
                    sidebar.style.width = "92px";
                    sideClick.innerHTML = '<img src="images/사이드바열림.png" alt="사이드바열림">';
                }
            }, 100);
        });

        // 토스트
        const toastTrigger = document.getElementById('liveToastBtn')
        const toastLiveExample = document.getElementById('liveToast')

        if (toastTrigger) {
        const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample)
        toastTrigger.addEventListener('click', () => {
            toastBootstrap.show()
        })

        }

        // 메뉴 아이콘 호버 효과
        const sideButtons = document.querySelectorAll('#side-buttons li');
        sideButtons.forEach(button => {
            const originalImage = button.querySelector('img').src;
            const hoverImage = button.querySelector('a.side-img').getAttribute('data-hover-image');
            button.addEventListener('mouseenter', () => {
                button.querySelector('img').src = hoverImage;
            });
            button.addEventListener('mouseleave', () => {
                button.querySelector('img').src = originalImage;
            });
        });

        // 커뮤니티 nav-link
        document.querySelectorAll('.nav-link').forEach(function(navLink) {
            navLink.addEventListener('click', function(event) {
                event.preventDefault();  // 기본 탭 전환 동작 방지
                window.location.href = this.getAttribute('href');  // 해당 href로 이동
            });
        });
        // 커뮤니티 nav-link active
        document.addEventListener('DOMContentLoaded', function() {
            var path = window.location.pathname;
            var page = path.split("/").pop(); // 현재 페이지의 파일 이름 가져오기

            document.querySelectorAll('.nav-link').forEach(function(navLink) {
                if(navLink.getAttribute('href') === page) {
                    navLink.classList.add('active');
                    navLink.classList.add('border-bottom-3');
                } else {
                    navLink.classList.remove('active');
                    navLink.classList.remove('border-bottom-3');
                }
            });
        });
    </script>
</body>
</html>
