<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>시설예약</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/standard.css">
    <link rel="stylesheet" href="css/dropdown.css">
    <link rel="stylesheet" href="css/mediaQuery.css">
    <link rel="stylesheet" href="css/reservation.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <style>
        /* 자리 선택 섹션 스타일 */
        .seat-grid {
            display: grid;
            grid-template-columns: repeat(14, 1fr); /* 14칸짜리 그리드 */
            gap: 10px; /* 그리드 간의 간격 */
            justify-items: center;
            align-items: center;
            margin-top: 20px;
}


        .seat-table {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: grid;
            grid-template-columns: repeat(14, 1fr);
            gap: 10px;
            justify-items: center;
            align-items: center;
        }

        .seat-button {
            width: 45px;
            height: 45px;
            margin: 5px;
            background-color: #f0f0f0;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            color: #333;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .seat-button:hover {
            background-color: #d9d9d9;
        }

        .seat-button.selected {
            background-color: #4c6ef5;
            color: white;
        }

        .placeholder {
            grid-column: span 2;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #cccccc;
            border-radius: 5px;
            color: #777;
            font-size: 14px;
            pointer-events: none;
        }

        .seat-table .placeholder {
            grid-column: span 3; /* 강의실을 포함한 칸을 넓게 만듦 */
        }
    </style>
</head>
<body>
    <nav>
        <img id="bitbyte_logo" src="images/bitbyte nav 로고 white.png" alt="bitbyte 로고">
        <button type="button" class="btn btn-primary" id="liveToastBtn"><img id="alarm" src="images/알람-켜짐-아이콘.svg" alt="알람켜짐"></button>

        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="images/bitbype logo cookie.png" class="rounded me-2" alt="알람-토스트 아이콘">
                    <strong class="me-auto">토스트 알림</strong>
                    <small>11 mins ago</small>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body">
                    안녕, 이건 토스트야!
                </div>
            </div>
        </div>
    </nav>
    <aside>
        <div id="profile">
            <a href=""><img src="images/bitbype logo cookie.png" alt="기본 프로필 사진"></a>
            <a class="side-letter" href=""><p><span>황제 최수민</span><br>데브옵스 12기</p></a>
            <div id="side-click" data-bs-toggle="tooltip" 
            data-bs-custom-class="tooltip-success" data-bs-placement="top"
            data-bs-html="true" data-bs-title="<div id='tooltip' style='background: white;'>닫기</div>"><img src="images/사이드바닫힘.png" alt="사이드바닫힘"></div>
        </div>
        <div id="side-buttons">
            <div id="menus">
                <ul>
                    <li>
                        <a class="side-img" href="#" data-image="images/실시간현황-아이콘.svg" data-hover-image="images/실시간현황-아이콘-호버.svg">
                            <img src="images/실시간현황-아이콘.svg" alt="실시간현황">
                        </a>
                        <a class="side-letter" href="#"><p>실시간현황</p></a>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/시설예약-아이콘.svg" data-hover-image="images/시설예약-아이콘-호버.svg">
                            <img src="images/시설예약-아이콘.svg" alt="시설예약">
                        </a>
                        <a class="side-letter" href="reservation.html"><p>시설예약</p></a>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/예약내역-아이콘.svg" data-hover-image="images/예약내역-아이콘-호버.svg">
                            <img src="images/예약내역-아이콘.svg" alt="예약내역">
                        </a>
                        <a class="side-letter" href="#"><p>예약내역</p></a>
                    </li>
                    <li class="dropdown">
                        <a class="side-img" href="#" data-image="images/커뮤니티-아이콘.svg" data-hover-image="images/커뮤니티-아이콘-호버.svg">
                            <img src="images/커뮤니티-아이콘.svg" alt="커뮤니티">
                        </a>
                        <a class="side-letter" href="#"><p>커뮤니티</p></a>
                        <div class="dropdown-content">
                            <a href="#">서브메뉴 1</a>
                            <a href="#">서브메뉴 2</a>
                            <a href="#">서브메뉴 3</a>
                        </div>
                    </li>
                    <li>
                        <a class="side-img" href="#" data-image="images/마이페이지-아이콘.svg" data-hover-image="images/마이페이지-아이콘-호버.svg">
                            <img src="images/마이페이지-아이콘.svg" alt="마이페이지">
                        </a>
                        <a class="side-letter" href="#"><p>마이페이지</p></a>
                    </li>
                </ul>
            </div>
            <div id="logout">
                <a class="side-img" href=""><img src="images/로그아웃-아이콘.svg" alt="로그아웃"></a>
                <a class="side-letter" href=""><p style="color:#FF0A00">로그아웃</p></a>
            </div>
        </div>
    </aside>
    <div class="content-background">
        <div class="content-container">
            <main>
                <section id="floor-selection">
                    <h4>층수 선택</h4>
                    <div class="button-group">
                        <button class="floor-button" data-floor="5">5층</button>
                        <button class="floor-button" data-floor="7">7층</button>
                    </div>
                </section>
                
                <section id="time-selection">
                    <h4>시간 선택</h4>
                    <div class="button-group">
                        <button class="time-button">18:00 - 18:30</button>
                        <button class="time-button">18:30 - 19:00</button>
                        <button class="time-button">19:00 - 19:30</button>
                        <button class="time-button">19:30 - 20:00</button>
                        <button class="time-button">20:00 - 20:30</button>
                        <button class="time-button">20:30 - 21:00</button>
                        <button class="time-button">21:00 - 21:30</button>
                        <button class="time-button">21:30 - 22:00</button>
                    </div>
                </section>

                <section id="seat-selection" class="hidden"> <!-- 기본적으로 숨김 처리 -->
                    <h4>자리 선택</h4>
                        <div class="seat-grid">
                                <!-- 첫 번째 줄 -->
                            <button class="seat-button">2</button>
                            <button class="seat-button">3</button>
                            <button class="seat-button">4</button>
                            <button class="seat-button">5</button>
                            <button class="seat-button">6</button>
                            <button class="seat-button">7</button>
                            <div class="seat-placeholder" style="grid-column: span 2;">강의실</div>
                            <button class="seat-button">20</button>
                            <button class="seat-button">21</button>
                            <button class="seat-button">22</button>
                            <button class="seat-button">18</button>
                            <button class="seat-button">19</button>

                            <!-- 두 번째 줄 -->
                            <button class="seat-button">9</button>
                            <button class="seat-button">10</button>
                            <button class="seat-button">11</button>
                            <button class="seat-button">12</button>
                            <button class="seat-button">13</button>
                            <button class="seat-button">14</button>
                            <div class="seat-placeholder" style="grid-column: span 2;"></div>
                            <button class="seat-button">25</button>
                            <button class="seat-button">26</button>
                            <button class="seat-button">27</button>
                            <button class="seat-button">28</button>
                            <button class="seat-button">29</button>

                            <!-- 세 번째 줄 -->
                            <button class="seat-button">2</button>
                            <button class="seat-button">3</button>
                            <button class="seat-button">4</button>
                            <button class="seat-button">5</button>
                            <div class="seat-placeholder" style="grid-column: span 3;">전자레인지</div>
                            <div class="seat-placeholder" style="grid-column: span 3;">엘리베이터</div>
                            <button class="seat-button">17</button>
                            <button class="seat-button">18</button>
                            <button class="seat-button">19</button>
                            <button class="seat-button">20</button>
                            <button class="seat-button">21</button>
                            <button class="seat-button">22</button>

                            <!-- 네 번째 줄 -->
                            <div class="seat-placeholder" style="grid-column: span 3;"></div>
                            <button class="seat-button">24</button>
                            <button class="seat-button">25</button>
                            <button class="seat-button">26</button>
                            <button class="seat-button">27</button>
                            <button class="seat-button">28</button>
                            <button class="seat-button">29</button>
                            <div class="seat-placeholder" style="grid-column: span 5;"></div>

                            <!-- 다섯 번째 줄 -->
                            <button class="seat-button">1</button>
                            <button class="seat-button">2</button>
                            <button class="seat-button">3</button>
                            <button class="seat-button">4</button>
                            <button class="seat-button">5</button>
                            <button class="seat-button">6</button>
                            <button class="seat-button">7</button>
                            <button class="seat-button">8</button>
                            <button class="seat-button">9</button>
                            <button class="seat-button">10</button>
                            <button class="seat-button">11</button>
                            <button class="seat-button">12</button>
                            <button class="seat-button">13</button>
                            <button class="seat-button">14</button>

                            <!-- 여섯 번째 줄 -->
                            <button class="seat-button">15</button>
                            <button class="seat-button">16</button>
                            <button class="seat-button">17</button>
                            <button class="seat-button">18</button>
                            <button class="seat-button">19</button>
                            <button class="seat-button">20</button>
                            <button class="seat-button">21</button>
                            <button class="seat-button">22</button>
                            <button class="seat-button">23</button>
                            <button class="seat-button">24</button>
                            <button class="seat-button">25</button>
                            <button class="seat-button">26</button>
                            <button class="seat-button">27</button>
                            <button class="seat-button">28</button>
                        </div>
                </section>

                <section id="rules" class="hidden">
                    <h4>상담실 이용규칙</h4>
                    <p style="margin: 1rem; text-align: center;">
                        동해물과 백두산이 마르고 닳도록<br>
                        하느님이 보우하사 우리나라 만세<br>
                        무궁화 삼천리 화려강산<br>
                        대한사람 대한으로 길이 보전하세
                    </p>
                </section>

                <section id="reserve-section">
                    <button id="reserve-btn"><a href="reservationCheck.html">예약하기</a></button>
                </section>
            </main>
            <footer>
                <ul>
                    <li style="text-decoration: underline;">비트바이트에 대해 궁금하신가요?</li>
                    <li>WBJNS@gmail.com<br>
                        2024 비트바이트. All rights reserved.</li>
                    <li>비트캠프 Tel. 02-123-1234</li>
                </ul>
            </footer>
        </div>
    </div>
    <script>
        const sideClick = document.querySelector("#side-click");
        const sidebar = document.querySelector("aside");

        // 부트스트랩 툴팁 초기화
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });

        sideClick.addEventListener("click", () => {
            // 툴팁 표시
            var tooltip = bootstrap.Tooltip.getInstance(sideClick);
            tooltip.show();

            // 0.1초 후에 툴팁 숨기기 및 사이드바 토글
            setTimeout(function() {
                tooltip.hide();
                sidebar.classList.toggle("fold");

                if(!sidebar.classList.contains("fold")){
                    sidebar.style.width = "242px";
                    sideClick.innerHTML = '<img src="images/사이드바닫힘.png" alt="사이드바닫힘">';
                } else {
                    sidebar.style.width = "92px";
                    sideClick.innerHTML = '<img src="images/사이드바열림.png" alt="사이드바열림">';
                }
            }, 100);
        });

        // 토스트
        const toastTrigger = document.getElementById('liveToastBtn');
        const toastLiveExample = document.getElementById('liveToast');

        if (toastTrigger) {
            const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample);
            toastTrigger.addEventListener('click', () => {
                toastBootstrap.show();
            });

        }

        // 메뉴 아이콘 호버 효과
        const sideButtons = document.querySelectorAll('#side-buttons li');
        sideButtons.forEach(button => {
            const originalImage = button.querySelector('img').src;
            const hoverImage = button.querySelector('a.side-img').getAttribute('data-hover-image');
            button.addEventListener('mouseenter', () => {
                button.querySelector('img').src = hoverImage;
            });
            button.addEventListener('mouseleave', () => {
                button.querySelector('img').src = originalImage;
            });
        });

        // 버튼 선택 상태를 관리하는 함수
        const floorButtons = document.querySelectorAll('.floor-button');
        const seatSelection = document.querySelector('#seat-selection');
        const rulesSection = document.querySelector('#rules');

        // 7층 버튼 클릭 시 자리 선택 표시
        floorButtons.forEach(button => {
            button.addEventListener('click', () => {
                floorButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');

                if (button.dataset.floor === '7') { 
                    seatSelection.classList.remove('hidden'); // 7층 선택 시 자리 선택 섹션 표시
                    rulesSection.classList.add('hidden'); // 상담실 이용규칙 숨기기
                } else if (button.dataset.floor === '5') {
                    rulesSection.classList.remove('hidden'); // 5층 선택 시 상담실 이용규칙 표시
                    seatSelection.classList.add('hidden'); // 자리 선택 섹션 숨기기
                } else {
                    seatSelection.classList.add('hidden');
                    rulesSection.classList.add('hidden');
                }
            });
        });

        const timeButtons = document.querySelectorAll('.time-button');
        timeButtons.forEach(button => {
            button.addEventListener('click', () => {
                timeButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
            });
        });

        const seatButtons = document.querySelectorAll('.seat-button');
        seatButtons.forEach(button => {
            button.addEventListener('click', () => {
                seatButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
            });
        });
    </script>
</body>
</html>
